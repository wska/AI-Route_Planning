(defdomain logistics
   (

    (:operator (!drive-truck ?truck ?loc-from ?loc-to)
               ()
               ((truck-at ?truck ?loc-from))
               ((truck-at ?truck ?loc-to) (:protection (truck-at ?truck ?loc-to))))


    (:operator (!add-protection ?g)
               ()
               ()
               ((:protection ?g))
               )

    (:operator (!delete-protection ?g)
               ()
               ((:protection ?g))
               ()
               )

    (:method (obj-at ?obj ?loc-goal)
             ((in-city ?loc-goal ?city-goal)
              (obj-at ?obj ?loc-now)
              (in-city ?loc-now ?city-goal)
              (truck ?truck ?city-goal)
              )
      ((in-city-delivery ?truck ?obj ?loc-now ?loc-goal))

      ((in-city ?loc-goal ?city-goal)
       (obj-at ?obj ?loc-now)
       (in-city ?loc-now ?city-now)
       (different ?city-goal ?city-now)
       (truck ?truck-now ?city-now)
       (truck ?truck-goal ?city-goal)
       (airport ?airport-now) (in-city ?airport-now ?city-now)
       (airport ?airport-goal) (in-city ?airport-goal ?city-goal))
      ((in-city-delivery ?truck-now ?obj ?loc-now ?airport-now)
                (air-deliver-obj ?obj ?airport-now ?airport-goal)
                (in-city-delivery ?truck-goal ?obj ?airport-goal ?loc-goal)))

    (:method (truck-at ?truck ?loc-to)

             ((truck-at ?truck ?loc-from)
              (different ?loc-from ?loc-to))
             ((:immediate !drive-truck ?truck ?loc-from ?loc-to))

             ((truck-at ?truck ?loc-from)
              (same ?loc-from ?loc-to))
             ((:immediate !add-protection (truck-at ?truck ?loc-to))))


    (:- (same ?x ?x) nil)
    (:- (different ?x ?y) ((not (same ?x ?y))))
    ))
